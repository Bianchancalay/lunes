<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>OH MY BAG!</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://sdk.mercadopago.com/js/v2"></script>
</head>
<body class="bg-gray-50 text-gray-800">
  <div class="max-w-7xl mx-auto px-4 py-8">
    <!-- Encabezado -->
    <div class="flex justify-between items-center mb-6">
      <h1 class="text-3xl font-bold text-pink-600">Carteras clÃ¡sicas</h1>
      <div class="flex items-center gap-4">
        <input id="searchInput" type="text" placeholder="Buscar cartera..." class="border rounded px-3 py-2 w-64" oninput="filtrarProductos()" />
        <button onclick="mostrarCarrito()" class="bg-pink-600 text-white px-4 py-2 rounded hover:bg-pink-700">
          Ver carrito (<span id="cartCount">0</span>)
        </button>
      </div>
    </div>

    <!-- Productos -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8" id="productos">
      <div class="producto bg-white rounded-xl shadow hover:shadow-lg transition p-4" data-nombre="Cartera Negra" data-precio="59990">
        <img src="../imagenes/233ab06497c750b944f34018a74cb7de.jpg" alt="Cartera Negra" class="w-full h-60 object-cover rounded-lg">
        <p class="font-semibold text-lg mt-4">Cartera Negra</p>
        <p class="text-pink-600 font-bold mt-1">$59.990</p>
        <button onclick="agregarAlCarrito(this)" class="mt-4 w-full bg-pink-600 text-white py-2 rounded-lg hover:bg-pink-700 transition">Agregar al carrito</button>
      </div>

      <div class="producto bg-white rounded-xl shadow hover:shadow-lg transition p-4" data-nombre="Cartera Beige" data-precio="64990">
        <img src="../imagenes/db3885ffb950b979022606b2366bbe7f.jpg" alt="Cartera Beige" class="w-full h-60 object-cover rounded-lg">
        <p class="font-semibold text-lg mt-4">Cartera Beige</p>
        <p class="text-pink-600 font-bold mt-1">$64.990</p>
        <button onclick="agregarAlCarrito(this)" class="mt-4 w-full bg-pink-600 text-white py-2 rounded-lg hover:bg-pink-700 transition">Agregar al carrito</button>
      </div>

      <div class="producto bg-white rounded-xl shadow hover:shadow-lg transition p-4" data-nombre="Cartera Roja" data-precio="58000">
        <img src="../imagenes/b303d3d784ec2d9a5470b08997b05db9.jpg" alt="Cartera Roja" class="w-full h-60 object-cover rounded-lg">
        <p class="font-semibold text-lg mt-4">Cartera Roja</p>
        <p class="text-pink-600 font-bold mt-1">$58.000</p>
        <button onclick="agregarAlCarrito(this)" class="mt-4 w-full bg-pink-600 text-white py-2 rounded-lg hover:bg-pink-700 transition">Agregar al carrito</button>
      </div>

      <div class="producto bg-white rounded-xl shadow hover:shadow-lg transition p-4" data-nombre="Cartera Azul" data-precio="62000">
        <img src="../imagenes/d1c48871270603b4ca7dad442fe98772.jpg" alt="Cartera Azul" class="w-full h-60 object-cover rounded-lg">
        <p class="font-semibold text-lg mt-4">Cartera Azul</p>
        <p class="text-pink-600 font-bold mt-1">$62.000</p>
        <button onclick="agregarAlCarrito(this)" class="mt-4 w-full bg-pink-600 text-white py-2 rounded-lg hover:bg-pink-700 transition">Agregar al carrito</button>
      </div>

      <div class="producto bg-white rounded-xl shadow hover:shadow-lg transition p-4" data-nombre="Cartera Verde" data-precio="57000">
        <img src="../imagenes/98a728354f9c6a440f457719ecbe55c9.jpg" alt="Cartera Verde" class="w-full h-60 object-cover rounded-lg">
        <p class="font-semibold text-lg mt-4">Cartera Verde</p>
        <p class="text-pink-600 font-bold mt-1">$57.000</p>
        <button onclick="agregarAlCarrito(this)" class="mt-4 w-full bg-pink-600 text-white py-2 rounded-lg hover:bg-pink-700 transition">Agregar al carrito</button>
      </div>

      <div class="producto bg-white rounded-xl shadow hover:shadow-lg transition p-4" data-nombre="Cartera MarrÃ³n" data-precio="60000">
        <img src="66180727f3be1789e9e25f90f7559e25.jpg" alt="Cartera MarrÃ³n" class="w-full h-60 object-cover rounded-lg">
        <p class="font-semibold text-lg mt-4">Cartera MarrÃ³n</p>
        <p class="text-pink-600 font-bold mt-1">$60.000</p>
        <button onclick="agregarAlCarrito(this)" class="mt-4 w-full bg-pink-600 text-white py-2 rounded-lg hover:bg-pink-700 transition">Agregar al carrito</button>
      </div>
    </div>
  </div>

  <!-- Modal Carrito -->
  <div id="modalCarrito" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
    <div class="bg-white w-full max-w-lg rounded-xl p-6 relative">
      <h2 class="text-2xl font-bold mb-4">ðŸ‘œ Tu carrito</h2>
      <ul id="listaCarrito" class="divide-y mb-4"></ul>
      <p class="text-lg font-semibold">Total: <span id="totalCarrito">$0</span></p>
      <div class="mt-6 text-right">
        <button onclick="cerrarCarrito()" class="px-4 py-2 bg-gray-300 rounded hover:bg-gray-400 mr-2">Cerrar</button>
        <button onclick="pagar()" class="px-4 py-2 bg-pink-600 text-white rounded hover:bg-pink-700">Finalizar compra</button>
      </div>
    </div>
  </div>

  <nav class="text-center my-8">
    <a href="pagina.html" class="text-pink-600 hover:underline">Volver al inicio</a>
  </nav>

  <footer class="bg-gray-800 text-white text-center py-6 text-sm">
    Â© 2025 Carteras Elegantes. Todos los derechos reservados.<br />
    <span class="text-gray-400">Desarrollado por Bianca Chancalay</span>
  </footer>

  <!-- Scripts -->
  <script>
// Obtener carrito desde localStorage o inicializar vacÃ­o
function obtenerCarrito() {
  return JSON.parse(localStorage.getItem('carrito') || '[]');
}

// Guardar carrito en localStorage
function guardarCarrito(carrito) {
  localStorage.setItem('carrito', JSON.stringify(carrito));
}

// Actualizar contador y lista en el modal carrito
function actualizarCarritoUI() {
  const carrito = obtenerCarrito();
  const count = carrito.reduce((acc, prod) => acc + prod.cantidad, 0);
  document.getElementById('cartCount').innerText = count;

  const lista = document.getElementById('listaCarrito');
  lista.innerHTML = '';
  let total = 0;

  carrito.forEach((item, index) => {
    total += item.precio * item.cantidad;
    const li = document.createElement('li');
    li.className = 'py-2 flex justify-between items-center';
    li.innerHTML = `
      <span>${item.nombre} (x${item.cantidad})</span>
      <div>
        <span class="text-pink-600 font-semibold">$${(item.precio * item.cantidad).toLocaleString()}</span>
        <button onclick="quitarUno(${index})" class="ml-2 text-red-500 hover:underline text-sm">Eliminar</button>
      </div>
    `;
    lista.appendChild(li);
  });

  document.getElementById('totalCarrito').innerText = `$${total.toLocaleString()}`;
}

// Agregar producto al carrito
function agregarAlCarrito(boton) {
  const producto = boton.closest('.producto');
  const nombre = producto.dataset.nombre;
  const precio = parseInt(producto.dataset.precio);

  let carrito = obtenerCarrito();

  const index = carrito.findIndex(p => p.nombre === nombre);
  if (index !== -1) {
    carrito[index].cantidad++;
  } else {
    carrito.push({ nombre, precio, cantidad: 1 });
  }

  guardarCarrito(carrito);
  actualizarCarritoUI();

  // No mostrar alert al agregar para mejor UX
}

// Quitar un producto del carrito
function quitarUno(index) {
  let carrito = obtenerCarrito();
  carrito[index].cantidad--;
  if (carrito[index].cantidad === 0) {
    carrito.splice(index, 1);
  }
  guardarCarrito(carrito);
  actualizarCarritoUI();
}

// Mostrar modal carrito
function mostrarCarrito() {
  document.getElementById('modalCarrito').classList.replace('hidden', 'flex');
  actualizarCarritoUI();
}

// Cerrar modal carrito
function cerrarCarrito() {
  document.getElementById('modalCarrito').classList.replace('flex', 'hidden');
}

// Finalizar compra
function pagar() {
  let carrito = obtenerCarrito();
  if (carrito.length === 0) {
    alert("Tu carrito estÃ¡ vacÃ­o.");
    return;
  }

  alert("âœ… Â¡Compra finalizada con Ã©xito! Gracias por tu preferencia.");

  localStorage.removeItem('carrito');
  actualizarCarritoUI();
  cerrarCarrito();
}

// Filtrar productos en la bÃºsqueda
function filtrarProductos() {
  const termino = document.getElementById('searchInput').value.toLowerCase();
  const productos = document.querySelectorAll('.producto');
  productos.forEach(p => {
    const nombre = p.dataset.nombre.toLowerCase();
    p.style.display = nombre.includes(termino) ? 'block' : 'none';
  });
}

// Inicializar contador carrito al cargar pÃ¡gina
document.addEventListener('DOMContentLoaded', actualizarCarritoUI);


  </script>
    <footer class="text-center py-6 text-gray-500">
    Â© 2025 OH MY BAG â€“ Todos los derechos reservados.
  </footer>
</body>
</html>
